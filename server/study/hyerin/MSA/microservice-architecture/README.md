# 개념

- MicroService Architecture의 약자로 여러 개의 작은 서비스로 구성되어 각 서비스가 독립적으로 개발되고 배포되는 구조

# 등장배경

### Monolithic Architecture

- 모든 구성요소가 한 프로젝트에 통합되어 있는 서비스
- 애플리케이션에서 사용하는 데이터가 한 곳에 모여 참조되어 서비스되는 형태
- 간단하고 유지보수가 편함
- 일정 규모 이상을 넘어가면 많은 한계점을 지님
    - 부분 장애가 전체 서비스의 장애로 확대될 수 있음
    - 전체 시스템 구조 파악이 어려움
    - 서비스 변경이 어렵고, 수정 시 영향도 파악이 힘듦
    - 빌드 시간 및 테스트, 배포 시간의 급증
    - 서비스의 특정 부분만 스케일아웃(sacle-out) 하기 어려움
    - 한 Framework와 언어에 종속적임

# 특징

- MSA는 API를 통해서만 상호작용할 수 있다. 즉, 마이크로 서비스는 서비스의 end-point(접근점)를 API 형태로 외부에 노출하고, 실질적인 세부 사항은 모두 추상화한다. 내부의 구현 로직, 아키텍처와 프로그래밍 언어, 데이터베이스, 품질 유지 체계와 같은 기술적인 사항들은 서비스 API에 의해 철저하게 가려진다.

- 하나의 비즈니스 범위에 맞춰 만들어지므로 하나의 기능만 수행함
- 애플리케이션은 항상 기술 중립적 프로토콜을 사용해 통신하므로 서비스 구현 기술과는 무관함
    - 다양한 언어와 기술로 구축 가능

## SOA vs MSA

1. 서비스의 공유 지향점
    - SOA - 재사용을 통한 비용 절감
    - MSA - 서비스 간의 결합도를 낮추어 변화에 능동적으로 대응
2. 기술 방식
    - SOA - 공통의 서비스를 ESB에 모아 사업 측면에서 공통 서비스 형식으로 서비스 제공
    - MSA - 각 독립된 서비스가 노출된 REST API를 사용

# 장점

1. 유연성

MSA는 서비스 간의 결합도를 낮추고, 작은 규모의 서비스로 구성되어 있기 때문에 변경이 용이하고 유연하다. 개별적으로 개발, 배포, 확장, 업데이트 및 종료할 수 있으므로 시스템 전체에 영향을 미치지 않고 특정 서비스만 변경할 수 있다.

2. 확장성

MSA는 필요에 따라 서비스를 추가하거나 제거하여 시스템 전체의 성능을 높일 수 있다. 각 서비스는 별도로 확장될 수 있으므로 필요한 서비스에 대해서만 확장할 수 있다.

3. 성능

MSA는 높은 성능을 제공한다. 각 서비스는 별도로 실행되므로 서비스 간의 충돌이나 경합을 줄일 수 있다.

4. 안정성

MSA는 단일 서비스의 장애가 전체 시스템에 영향을 미치지 않도록 한다. 각 서비스는 격리되어 있으므로 한 서비스의 문제가 다른 서비스에 영향을 미치지 않는다.

5. 개발 생산성

MSA는 개발자들이 병렬적으로 작업할 수 있도록 하며, 서비스를 분리하여 개발할 수 있으므로 개발 생산성을 높인다.

6. 다양한 기술 스택

MSA는 다양한 기술 스택을 사용할 수 있다. 각 서비스는 독립적으로 실행되므로 각각의 기술 스택을 선택할 수 있다.

7. 높은 확장성

MSA는 클라우드 네이티브 애플리케이션의 개발에 이상적이다. 클라우드 기반 인프라에서는 필요한 서비스만 확장할 수 있으므로 높은 확장성을 제공한다.

8. 지속적인 배포

MSA는 각 서비스를 독립적으로 배포할 수 있으므로 빠른 배포 주기를 유지할 수 있다. 각 서비스가 독립적으로 배포되므로 전체 애플리케이션을 다시 빌드하거나 배포할 필요가 없다.

# 단점

1. 복잡성

MSA는 여러 개의 서비스로 구성되어 있기 때문에 구현 및 관리가 복잡하다. 서비스 간의 통신, 데이터 일관성, 보안 및 인증 등을 처리해야 하므로 개발 및 운영 비용이 증가할 수 있다.

2. 분산 시스템의 복잡성

서비스 간의 통신 및 데이터 일관성 유지와 같은 분산 시스템의 복잡성으로 인해 디버깅 및 문제 해결이 어려울 수 있다.

3. 서비스 관리의 어려움

서비스가 분리되어 있기 때문에 관리 및 모니터링이 어려울 수 있다. 모든 서비스의 상태를 지속적으로 모니터링하고 조율하는 것은 어려울 수 있다.

4. 분산 데이터 관리의 어려움

데이터 일관성과 동시성 관리와 같은 분산 데이터 관리의 어려움이 있다. 여러 서비스에서 공유되는 데이터가 있을 경우, 데이터 일관성을 유지하고 데이터 충돌을 피하기 위해 추가적인 노력이 필요하다.

5. 통합 테스트의 어려움

MSA는 여러 개의 서비스로 구성되어 있으므로 전체 애플리케이션을 통합 테스트하는 것이 어려울 수 있다. 각 서비스의 인터페이스를 테스트하고, 서비스 간의 상호작용을 확인해야 하기 때문이다.

6. 초기 구현 비용

MSA를 구현하려면 여러 개의 서비스를 만들고 각 서비스 간의 통신과 관리를 구현해야 하므로 초기 구현 비용이 높을 수 있다.

# 참고

[[MSA] MSA란 무엇인가? 개념 이해하기](https://wooaoe.tistory.com/57)

[[간단정리] MSA란?(등장배경, 특징, 장단점)](https://hahahoho5915.tistory.com/71)

[MSA 설계 방법 (1) MSA 장단점과 설계 방법 개요](https://velog.io/@momona/msa01)